# 복습

# SIEM
-> 중앙정보 이벤트관리
중앙에서 이벤트를 캐치함.

## Wazuh 
--> siem의 일종
- **agent** 기반
- **endpoint** ==> 끝점. 실무에서 사용자의 끝단(개인 PC나 기기를 의미함)
 - 이곳에 V3나 알약 같은 백신프로그램이 있음.
==> 설치하고 가공, 옵션을 적용시키는 과정은 실무의 틀과 동일함.
 - ***Agentless*** ==> 이건 ssh로 정보를 수집하는 방식.
 - Wazuh Server와 Agent가 통신하려면 당연히 집주소(ip)와 방번호(port)가 있어야하죠?
 - 1514, 1515 그리고 https 통신을 위한 443.
![image](https://github.com/user-attachments/assets/f1cd258e-ba64-43a6-9b63-cc25b9057651)


# Azure
- 생성하려면 일단 땅이 있어야해요. (리소스그룹 생성)
- 인터넷을 연결해야하니 공인 ip 필요. (공인ip 생성)
- 땅을 샀으니 건물을 올려요. (VM, 가상머신 생성) ==> 여기도 공인IP를 붙인다..?
- (레드햇에 땅이 어딘지 알아야한다..?)
==> Ubuntu 22.04v 를 공인 IP에 붙인다.
- 자동으로 생성되는 vnet. ==> 헷갈리지 마세요.
- 2. redhatip와 vnet의 이름이 같은지 확인.
- 3. ubuntu의 공인 IP를 하나 더 만든다(근데 ***로드밸런싱***)
==> 박스 그림 생각하기!
=> Inbound(포트를 열거야?)

우분투는 dnf가 아니라 apt로 설치함.
쫄지마요 똑같아요.

1. wazuh 서버 세팅
Ubuntu에 wazuh 설치.
방화벽 끄기 (**우분투에선 ==> iptables -F**)
웹페이지(크롬으로 접속)
2. agent 연결. 바라보게 세팅.
agent가 사설 ip로 연결. 
연결을 했으면 서버에서 netstat -an | grep 1514로 연결되었는지 확인.
Establish 되어있군.
active 확인.
3. 토핑 얹기
sysmon 설치하기.
sysmon 의 옵션을 넣어야하는데 /opt에 config.xml을 넣어서 옵션 세팅하네요.
4. sysmon 실행하기.
sysmon 실행 + 규칙 적용.
5. 이제 sysmon을 server에도 적용해서, 많은 데이터를 정렬하고 구조화하는 역할 decoders. 오는 패킷을 정렬하는 규칙. 을 rules로 만듬.
6. **항상 규칙을 만들거나 추가하면 재시작을 한다** + 설치하면 설치확인도 한다.
**FEM**?

7. 그럼 이제 sysmon에 등록된 규칙에 걸린 ㄹ로그는 넘어온다.
8. 근데 불필요한 정보가 매우 많기 때문에 필터링하는 것도 필요하다.

# suricata(IDS == 탐지만 하는 제품)
- 네트워크 패킷 분석. (시스몬은 내부에서 사용자가 친 명령어만 파악)
- 근데 suricata는 외부에서 누가 핑을 때렸는지 확인가능.
- iptables와 연동해서 침입,탐지,차단까지 가능(IPS == 탐지하고 차단까지 하는 제품)
- drop [어떤 프로토콜] [누가] -> [누구에게] ... (<> 양방향도 가능)
- https://docs.suricata.io/en/suricata 7.0.10/rules/intro.html
- alert, pass 등
- any ==> 모든 프로토콜을 나타냄.
- 특정포트에 접근하면 알람을 울려라

rules에 규칙 추가하고.
문법 검사!!
if config로 eth~확인

***내껄로 만들자*** 보안 솔루션.

폐쇄망 설치.
회사에서 사랑받을 수 있다.

---
특강.
# 토스 증권 보안 엔지니어팀 리더. (박세균 팀장님)
## 좋은 회사 선택하기(가치와 성장에 알맞은 곳)
1. 가치관 일치, 조직 문화 ,성장 가능성 ==> 내가 성장가능한가? 기술을 늘릴 수 있는 회사인가?

돈, 매출 성장, 영업이익.
검색 키워드 - ex. 현대자동차(희망퇴직, 권고퇴사)

높은 이직률, 평균근속 연수, 퇴사 이유

워라밸, 연차, 유연하게 근무할 수 있는지, 복지제도

***출퇴근 거리*** => 삶의 질이 달라져요.

**회사와 가치관이 일치하는가?**
가치가 완벽하다면 정말 만족스럽게 일한다.
가치관이 충돌하면 불만이 쌓인다. => 행복한 직장일까

**좋은 회사 꿀팁**
검색 키워드 ex. 삼성전자 비전, 토스증권 비전
***현직자에게 꼭 물어보세요.*** => 공개된 조직문화와 실제 업무환경이 일치하나요?

결론.
1. 조건 => 돈, 복지, 위치 등등 다 중요해요
2. 성장 가능성 ==> 내 역량이 늘어나는가?
3. 가치관 일치..
4. 건강한 조직문화! ex. 매니저야 매니저님.

대기업, 전문업체(전문성 강화에 유리. 안랩,쉴더스,시큐아이), 용역
그래서 용역에서 대기업까지 어떻게 가장 빠르게 올라가는가?
skt 
-> 안랩(프로젝트 경험) ==> 정보보호업체에서 일어나는 사고가 많아요 맛있어요. 
-> 쿠팡(endpoint) ==> 여기는 깊게 업무를 시킴. 근데 아쉬운점이 있어서(성장가능성, 가치관)
-> 토스증권

==> 처음에 가장 중요한 것은 시킨 일을 100퍼센트 마무리 하는 것.
==> 하지만 여기서 머무르면 성장X. 이건 왜 그럴까? 저건 왜 그럴까? 
==> 숲을 보세요.
천천히 파견부터 전문업체로 단계별로 성장한 분들이 많아요.
파견업체에는 3년은 절대 안됨. 오히려 안좋음.
한 1~2년 내로 숲을 보고 전문업체로 나아가야함. 문서보안이라면 근본적으로 우리가 문서보안을 하는 관점. 시야가 넓어짐. 내가 있는 곳은 좁은 범위이다. 한계점과 개선해야할 포인트를 찾아요.
여러 고객사에서 다양한 문제를 해결.

파견 용역은 제한된 일만 할 수밖에 없음. (컨설턴트? 체크리스트에 있는 내용을 하나하나 항목을 깊게 생각해봐야함. 용역도 많으니 호기심을 갖고 그 회사들의 솔루션은뭐지? 넓혀야한다.)
전문업체에서 일해보는 것이 중요하다.
기술 스택 나열. 텍스트 나열. (Azure가 어떤 영역을 커버하는지. 그래서 Azure로 뭘 테스트했는지?
그런 컨텐츠를 계속 만들고 시나리오를 만들고 실행해야함.)
업데이트를 더 자주해야한다. [문제 해결 경험] 심지어 세팅까지도. 세팅하는게 힘든데 어떻게 했나?
이런게 있었는데 이걸 활용해봤고 이렇게 이렇게 해서 문제들을 해결해보았다.

포트폴리오 구축. 실제 경험이 담긴 이야기. 텍스트는 의미가 없다. 
온라인으로 기록하기. 노션 블로그 등등
자격증이나 실습 양성과정하면서 같이 준비하면된다.

기술적 역량이 가장 중요하다.
**회사의 비전이 잘 맞는지 확인**
**LLM도 많이 활용해!!**
**LinkedIn 무조건 가입하세요.** 커피챗? 비전이 너무 마음에 들어서~, ~게 저랑 맞고 ~게 일하고 싶은데, 커피챗 한번 해주실 수 있나요?

토스 신입으로. 미술전공이라는데요...?
대기업 금융 공채에 합격해서 왔어요. 
경영학->보안->고대 정보보호대학원->operator를 넘어서는 능력을!
가능성이 더 중요하다.

FDS

연이랑 같은 말하네.
저 많은 대기업들의 보안에 큰 영향은 못줘도, 조금이라도 더 나아질 수 있게하자. 열심히 하자.

**문제 해결**

---

## 엔드포인트 엔지니어 김진수님

email: have2429@icloud.com
==> 여기다 질문 해줘도 좋아요.

**프로젝트**
**경험**,**도전**,**개선**
**==> 내 의견을 전달해보자**
**회사는 완성된 사람보다 가능성 있는 사람을 뽑는다**
보안학과, 전과.
s/w융합전공
BOB  Digital Forensic
SK shieldus 모의해킹 보안트랙.
프로젝트를 엄청 많이 하셨네요. 
관심분야가 있으면 경험해보라.

==> wireshark. 보물찾기 느낌.
==> 암호학 알고리즘은 싫어하셨대요. 내 성과를 보여주기 힘들 것이다.
==> 대내활동, 대외활동.
연계전공 발표경험. 
BOB가 제일 길었다. 디지털 포렌식 , windows 기반의 모의해킹. 코발트머시기 도구.
포드투닷.삽히 (대외활동이 되게 넓은 시야를 갖는데 유용하다)

철판깔고 도전하자. 잃을 게 없소.
면접. 퀄리티가 좋은 
개선, 성과. 발전, 성장.

가상이미지. securism. 
기술도 중요하지만, 조직에 미치는 영향도 중요하다. (인프라, 파이낸셜, 개발팀, 디자인팀 등등)
실무는 우선순위가 중요하다. 어떤 문제가 **우선**인지 정하고 해결.
+ 회사는 대응시간이 생각보다 부족하다. 맨탈도 중요해요.

질문)부족한 부분을 채워야할 때...
자격증도 다 준비해야한다.

**네트워크에 대한 기초 지식**

**포기를 지워라. 너한테 포기는 없다.**


---
그래서 내가 지금 하고 싶은 것?
서버를 만들고 공격자가 SIEM을 우회해서 핑 명령어를 보내는 우회 기법을 하고 싶다.
그 우회기법을 막는 기법도 내가 막고, 내가 뚫고 하면 맛있겠다.
로컬에 만들면 되려나?
